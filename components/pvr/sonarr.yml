  # TV shows PVR
  sonarr:
    container_name: sonarr
    image: linuxserver/sonarr:3.0.2.587-ls123
    restart: unless-stopped
    network_mode: service:vpn_client_gateway
    depends_on:
      - jackett
      - transmission
      - notifications
    volumes:
      - %CONTAINERS_CONFIG_DIR%/sonarr:/config
      - %TORRENTS_DOWNLOADS_DIR%:/downloads
      - %TV_DIR%:/tv
      - /etc/localtime:/etc/localtime:ro
      - %DOCKER_SHARED_DIR%:/shared
    environment:
      - PUID=%DOCKER_USER_ID%
      - PGID=%DOCKER_GROUP_ID%
      - TZ=%TIMEZONE%
    labels:
      - traefik.http.routers.sonarr.middlewares=auth@file
      - traefik.http.services.sonarr.loadbalancer.server.port=8989
