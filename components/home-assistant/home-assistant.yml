  # Smart home hub
  homeassistant:
    container_name: homeassistant
    restart: always
    image: homeassistant/home-assistant

    volumes:
      - %CONTAINERS_CONFIG_DIR%/homeassistant:/config
      - /etc/localtime:/etc/localtime:ro
      - %DOCKER_SHARED_DIR%:/shared
    privileged: true
    environment:
      - PUID=%DOCKER_USER_ID%
      - PGID=%DOCKER_GROUP_ID%
      - TZ=%TIMEZONE%
    labels:
      - "traefik.enable=true"
      - "traefik.backend=homeassistant"
      - "traefik.frontend.rule=Host:homeassistant.%DOMAIN_NAME%"
      - "traefik.port=8123"
